<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passar per valor o per refer√®ncia</title>
</head>
<body>
    <p>
        <a href="../index.html">Anar a l'√≠ndex</a>
    </p>

    <h1>Passar per valor o per refer√®ncia</h1>

    <p>
        Quan passem una variable com a argument a una funci√≥, aquesta pot comportar-se de dues maneres diferents:
    </p>

    <ul>
        <li><strong>Passar per valor</strong>: es fa una c√≤pia del valor. Els canvis dins la funci√≥ no afecten la variable original.</li>
        <li><strong>Passar per refer√®ncia</strong>: es passa l‚Äôadre√ßa de mem√≤ria. Els canvis dins la funci√≥ afecten l‚Äôoriginal.</li>
    </ul>

    <h2>
        Exemple: Passar per valor
    </h2>

    <pre>
        <code>
            function incrementa(x) {
            x = x + 1;
            console.log("Dins la funci√≥:", x); // 6
            }

            let num = 5;
            incrementa(num);
            console.log("Fora de la funci√≥:", num); // 5
    
        </code>
    </pre>

    <p>
        üß† Aqu√≠, <code>num</code> √©s un n√∫mero (tipus primitiu), i per tant es passa per valor. El par√†metre <code>x</code> √©s una c√≤pia. Quan es modifica <code>x</code>, la variable original <code>num</code> no canvia.
    </p>

    <h2>
        Exemple: Passar per refer√®ncia
    </h2>

    <pre>
        <code>
            function afegeixProp(obj) {
            obj.edat = 30;
            console.log("Dins la funci√≥:", obj);
            }

            let persona = { nom: "Joan" };
            afegeixProp(persona);
            console.log("Fora de la funci√≥:", persona);
        </code>
    </pre>

    
    <p>
        Creem un objecte persona amb una sola propietat: <code>let persona = { nom: "Joan" };</code>. <Cridem la funci√≥ afegeixProp, passant-li aquest objecte: code>afegeixProp(persona);</code>. Dins la funci√≥, la variable obj no √©s una c√≤pia del contingut, sin√≥ una refer√®ncia al mateix objecte persona. Aix√≤ vol dir que: <code>obj.edat = 30;</code> afegeix una nova propietat a l'objecte original. Ara l'objecte t√© dues propietats: <code>{ nom: "Joan", edat: 30 }</code>. Quan fem: <code>console.log("Dins la funci√≥:", obj);</code> S‚Äôimprimeix el contingut de l‚Äôobjecte modificat. I fora de la funci√≥: <code>console.log("Fora de la funci√≥:", persona);</code> Tamb√© veiem { nom: "Joan", edat: 30 }, perqu√® l'objecte original ha estat modificat des de dins la funci√≥.
    </p>

    <p>
        üß† Aqu√≠, <code>persona</code> √©s un objecte. El par√†metre <code>obj</code> apunta al mateix objecte que <code>persona</code>. Qualsevol canvi dins la funci√≥ afecta directament l‚Äôobjecte original.
    </p>

    <h2>
        Com saber si s'ha passat per valor o per refer√®ncia?
    </h2>

    <p>
        Un valor ha sigut enviat com a <strong>refer√®ncia</strong> quan el par√†metre de la funci√≥ <strong>apunta al mateix objecte</strong> que la variable original. Aix√≤ passa amb:
    </p>
    <ul>
        <li>Objectes</li>
        <li>Arrays</li>
        <li>Funcions</li>
    </ul>

    <p>
        En canvi, s‚Äôenvia com a <strong>valor</strong> quan el par√†metre <strong>√©s una c√≤pia</strong> i els canvis no afecten l‚Äôexterior. Aix√≤ passa amb:
    </p>
    <ul>
        <li>Number</li>
        <li>String</li>
        <li>Boolean</li>
        <li>undefined</li>
        <li>null</li>
    </ul>

    <h2>
        Conclusi√≥
    </h2>

    <p>
        √âs molt important entendre aquest concepte per evitar canvis inesperats en les dades del nostre programa. Si passes un objecte o un array a una funci√≥, **est√†s donant-li acc√©s directe** per modificar-lo!
    </p>

    <p>
        <a href="../index.html">Anar a l'√≠ndex</a>
    </p>  
</body>
</html>