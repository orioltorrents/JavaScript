<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Scope local de bloc o de funci√≥</title>
</head>
<body>
    <p>
        <a href="../index.html">Anar a l'√≠ndex</a>
    </p>

    <h1>
        L'Scope local de bloc o de funci√≥
    </h1>

    <p>
        En JavaScript, l'<strong>√†mbit</strong> (scope) fa refer√®ncia a on podem accedir a una variable dins del codi. Quan una variable es declara dins d‚Äôuna funci√≥ o bloc, no es pot accedir des de fora. Aix√≤ evita confusions i errors, ja que les variables nom√©s viuen on tenen sentit.
    </p>

    <h2>
        Scope local de funci√≥
    </h2>

    <p>
        Les variables declarades dins d‚Äôuna funci√≥ nom√©s s√≥n visibles dins d‚Äôaquella funci√≥. Aquest √©s un comportament tradicional de JavaScript.
    </p>

    <pre>
        <code>
            function saluda() {
                let missatge = "Bon dia!";
                console.log(missatge); // Accessible aqu√≠
            }

            saluda();
            console.log(missatge); // ‚ùå Error: missatge no est√† definida fora de la funci√≥
        </code>
    </pre>

    <h2>
        Scope local de bloc
    </h2>

    <p>
        Amb <code>let</code> i <code>const</code>, tamb√© podem declarar variables dins d‚Äôun bloc (com un <code>if</code>, <code>for</code>, etc.), i nom√©s existiran dins d‚Äôaquell bloc.
    </p>

    <pre>
        <code>
            if (true) {
                const resposta = "S√≠!";
                console.log(resposta); // Accessible dins del bloc
            }

            console.log(resposta); // ‚ùå Error: resposta no est√† definida fora del bloc
        </code>
    </pre>

    <h2>‚ö†Ô∏è Compte amb <code>var</code>: pot sortir del bloc!</h2>

    <p>
        Si declares una variable amb <code>var</code> dins d‚Äôun bloc com un <code>if</code>, aquesta variable no queda limitada a dins del bloc. Aix√≤ pot provocar comportaments inesperats.
    </p>

    <pre><code>
    if (true) {
        var missatge = "Hola!";
        console.log(missatge); // Funciona dins del bloc
    }

    console.log(missatge); // üò≤ Encara funciona fora del bloc!
    </code></pre>

    <p>
        En aquest exemple, <code>missatge</code> est√† disponible fora del bloc <code>if</code> perqu√® <code>var</code> t√© <strong>scope de funci√≥</strong>, no de bloc. √âs per aix√≤ que es recomana evitar <code>var</code> i utilitzar <code>let</code> o <code>const</code>, que s√≠ respecten l‚Äô√†mbit de bloc.
    </p>

    <h2>
        Principi del menor acc√©s necessari
    </h2>

    <p>
        √âs una bona pr√†ctica declarar variables dins de l'√†mbit m√©s petit possible. Aix√≤ fa que el codi sigui m√©s segur, previsible i f√†cil de mantenir. Evita que una variable pugui ser modificada des d'on no toca.
    </p>

    <h2>
        Comparaci√≥ resumida
    </h2>

    <ul>
        <li><strong>Global:</strong> accessible des de tot arreu (evitar si es pot).</li>
        <li><strong>Funci√≥:</strong> accessible nom√©s dins de la funci√≥ on es declara.</li>
        <li><strong>Bloc:</strong> accessible nom√©s dins del bloc on es declara (<code>{ }</code>).</li>
    </ul>

    <h2>
        Conclusi√≥
    </h2>

    <p>
        JavaScript permet controlar l‚Äôabast de les variables per protegir el nostre codi. Sempre que puguis, utilitza <code>let</code> o <code>const</code> i declara les variables al bloc m√©s espec√≠fic possible. Aix√≤ segueix el principi del menor acc√©s i t‚Äôajudar√† a evitar errors dif√≠cils de trobar. Finalment, sigueu conscients dels √†mbits de var i de let.
    </p>

    <p>
        <a href="../index.html">Anar a l'√≠ndex</a>
    </p>  
</body>
</html>