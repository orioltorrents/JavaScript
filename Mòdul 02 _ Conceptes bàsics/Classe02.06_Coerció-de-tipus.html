<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coacció de tipus a JavaScript</title>
</head>
<body>
    <h1>
        Coacció de tipus a JavaScript
    </h1>

    <p>
        En JavaScript, el motor del llenguatge intenta convertir automàticament els valors d’un tipus a un altre quan és necessari. Aquest procés es diu <strong>type coercion</strong> o coacció de tipus en català. Pot ser molt útil, però també pot causar confusió si no s’entén bé.
    </p>

    <h2>
        Coacció implícita
    </h2>
    
    <p>
        És quan JavaScript fa la conversió de tipus automàticament. Per exemple, si sumem un nombre i un text, el nombre es converteix en text.
    </p>

    <pre>
        <code>
            let resultat = 5 + '3';
            console.log(resultat); // '53' → número 5 es converteix en cadena
        </code>
    </pre>

    <p>
        Altres exemples comuns:
    </p>

    <pre>
        <code>
            console.log('5' - 2);   // 3 → '5' es converteix en número
            console.log('5' * '2'); // 10 → totes dues cadenes es converteixen en números
            console.log(true + 1);  // 2 → true es converteix en 1
            console.log(false + '1'); // 'false1' → false es converteix en text
        </code>
    </pre>

    <h2>
        Coacció explícita
    </h2>
    
    <p>
        És quan convertim nosaltres mateixos un valor a un altre tipus, de manera intencionada, amb funcions com <code>Number()</code>, <code>String()</code> o <code>Boolean()</code>.
    </p>

    <pre>
        <code>
            let numero = Number("42");     // de text a número
            let text = String(123);        // de número a text
            let valor = Boolean(0);        // false (0, "", null, undefined són falsos)
        </code>
    </pre>

    <h2>
        Diferència entre <code>.toString()</code> i <code>String()</code>
    </h2>
    
    <p>
        <code>String()</code> és una funció global que converteix qualsevol valor a cadena. En canvi, <code>.toString()</code> és un mètode que només funciona en objectes i tipus que el tenen. Per exemple:
    </p>

    <pre><code>
        let num = 99;
        console.log(num.toString());    // '99'
        console.log(String(num));       // '99'

    <h2>
        Coerció explícita Vs Coerció implícita
    </h2>
    
    <p> 
        La <strong>coacció implícita</strong> és quan JavaScript converteix els tipus de manera automàtica segons el context (per exemple, si sumem un número i una cadena, el número es converteix en text). En canvi, la <strong>coacció explícita</strong> és quan el programador decideix fer la conversió usant funcions com <code>Number()</code>, <code>String()</code> o <code>Boolean()</code>. Tot i que la coacció implícita pot semblar pràctica, sovint genera comportaments inesperats o errors difícils de detectar. Per aquest motiu, en programes clars i segurs es recomana fer servir la coacció explícita sempre que sigui possible. 
    </p>

</body>
</html>